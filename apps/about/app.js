var ENV = process.env;
var MEM = process.memory();
var s = require("Storage");

g.clear(1);
g.setFont("6x8");
var y = 24, h=8;
g.drawImage(require("heatshrink").decompress(atob("vE4gQZWg//AAI3Zh4dCoAd6wAd64Ad2j4d6l4dcn4dC6Adc+AdYv4dUggHG//kgN//AGB1WkDpkOAwsH/gDBgJ4CTRwdGl6RDl/0gHQgJeMDo2/AgcDIAIkBnAdRgJyCAAQdDlgdRgZPDgbWBDoUcDqMPRYcJgEfoA7Uh9AAgQ1BEgIdBngdRKQIACmBbB6AdB2gdRnoEDyB+C8tbbQVpgNAqOkAwMGyEQDoMB1AIBvgdDPYMC+H//7zBg//+fAA4OAgH//twDoMv/4WB3iyEAAPwHINvTYMAv/A/sC6BmBh/wDoP4gIuBdwayBAAP/DoMH4F4ToQSB+EPJQUOgKmDBgIABhAdFB4L7BgfAAYNwjpKChwJBTIQdDiAdFgHgAYIdDmDaCO4MD9Wq14dM+CdCDoU0nDjChyhBAAIdFsgdTZgaVDmPYLJk0LIodDaIcxcILRDSo80jiVECgUAvgDCmG0YQTRHDoTRBgLRCMwJDBnodDeAMDKoUvAIU/DocD6ELDoKRCAIM/LIcGG4PQUIKCBU4PzDoaEB/p3BFQKKCh9ADoXsKIVVqonCtVBoFQcAUKyFwghdB3IPBCwJZCAQMfEgQAL2AGFgZJBDoZgDABEMWYQJFgLwCkACB/gdLWYMCfoQAE35BEDpkH8EfdgYADl4mDl68BABazBFBA2CgK8CABcBUZP/8kBv58CAC1//4ABUQwASn4dgOxoALl4dC4AdYj4d6h4d+wAd6oAd2g4dCAwQA=")),120,y);
g.drawString("BANGLEJS.COM",120,y-4);
g.drawString("Powered by Espruino",0,y+=4+h);
g.drawString("Version "+ENV.VERSION,0,y+=h);
g.drawString("Commit "+ENV.GIT_COMMIT,0,y+=h);
function getVersion(name,file) {
  var j = s.readJSON(file,1);
  var v = ("object"==typeof j)?j.version:false;
  g.drawString(v?(name+" "+(v?"v"+v:"Unknown")):"NO "+name,0,y+=h);
}
getVersion("Bootloader","boot.info");
getVersion("Launcher","launch.info");
getVersion("Settings","setting.info");

y+=h;
g.drawString(MEM.total+" JS Variables available",0,y+=h);
g.drawString("Storage: "+(require("Storage").getFree()>>10)+"k free",0,y+=h);
if (ENV.STORAGE) g.drawString("         "+(ENV.STORAGE>>10)+"k total",0,y+=h);
if (ENV.SPIFLASH) g.drawString("SPI Flash: "+(ENV.SPIFLASH>>10)+"k",0,y+=h);
g.setFontAlign(0,-1);
g.drawString(NRF.getAddress(),120,232);
g.flip();

// Pixel chooser image
g.drawImage(require("heatshrink").decompress(atob("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")),0,135);
g.flip();
